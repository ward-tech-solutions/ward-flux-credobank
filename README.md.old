# WARD OPS - Network Monitoring Dashboard

Modern network monitoring dashboard for Zabbix with real-time device tracking, interactive maps, and comprehensive reporting.

## Features

- 🗺️ **Interactive Map** - Real-time device locations on OpenStreetMap
- 📊 **Dashboard** - KPIs, alerts, and device statistics
- 🔌 **Topology View** - Network hierarchy visualization
- 📈 **Reports** - Downtime, MTTR, and availability analytics
- ⚙️ **Host Group Configuration** - Manage monitored Zabbix groups
- 👥 **User Management** - Role-based access control

## Quick Start

### Prerequisites
- Python 3.9+
- Zabbix Server 6.0+
- SQLite3

### Installation

```bash
# Clone repository
cd "/Users/g.jalabadze/Desktop/WARD OPS/CredoBranches"

# Create virtual environment
python3 -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Initialize database
python3 init_db.py

# Run application
python3 run.py
```

### Environment Variables

Create a `.env` file:

```env
ZABBIX_URL=http://10.199.96.5:8080
ZABBIX_USER=Admin
ZABBIX_PASSWORD=your-password
SECRET_KEY=your-secret-key-change-me
```

## Project Structure

```
CredoBranches/
├── app/                      # Application package (new modular structure)
│   ├── api/v1/              # API endpoints
│   ├── core/                # Core functionality
│   ├── models/              # Data models
│   ├── services/            # Business logic
│   └── utils/               # Utilities
├── static/                   # CSS, JS, images
├── templates/                # HTML templates
├── data/                     # Database files
├── migrations/               # Database migrations
├── docs/                     # Documentation
├── tests/                    # Test files
├── main.py                   # Current monolithic app (working)
└── run.py                    # Application entry point
```

## Usage

### Access the Application

- **URL**: http://localhost:5001
- **Default Login**: admin / admin (change after first login)

### API Endpoints

- `GET /api/v1/devices` - List all devices
- `GET /api/v1/dashboard/stats` - Dashboard statistics
- `GET /api/v1/config/zabbix-hostgroups` - Zabbix host groups
- `GET /api/v1/config/georgian-cities` - Georgian cities with coordinates

### Configuration

Navigate to **Config** page (admin only) to:
1. Fetch Zabbix host groups
2. Select groups to monitor
3. View Georgian city coordinates

## Development

### Running Tests

```bash
pytest tests/
```

### Code Style

```bash
black app/
flake8 app/
```

## Troubleshooting

### Map not loading
- Hard refresh: `Cmd + Shift + R` (Mac) or `Ctrl + F5` (Windows)
- Check browser console for errors

### Authentication errors
- Verify Zabbix credentials in `.env`
- Check Zabbix server is accessible

### Database issues
```bash
# Reinitialize database
python3 init_db.py
```

## Tech Stack

- **Backend**: FastAPI, Python 3.13
- **Frontend**: Vanilla JS, Leaflet.js, Vis.js
- **Database**: SQLite
- **Maps**: OpenStreetMap (CARTO tiles)
- **Monitoring**: Zabbix API

## License

Internal use only - Credo Bank

## Support

For issues, contact the development team.
