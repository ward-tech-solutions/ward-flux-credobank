{% extends "base.html" %}
{% set show_sidebar = False %}

{% block title %}Map View - Network Monitoring{% endblock %}

{% block content %}
<div class="map-page">
    <!-- Page Header -->
    <div class="page-header">
        <div class="page-title">
            <h1>Georgia Network Map</h1>
        </div>
        <div class="page-actions">
            <div class="filter-group">
                <button class="filter-btn active" onclick="filterMap('all')" id="btn-all">
                    <i class="fas fa-globe"></i>
                    <span>All ({{ total }})</span>
                </button>
                <button class="filter-btn" onclick="filterMap('online')" id="btn-online">
                    <i class="fas fa-check-circle"></i>
                    <span>Online ({{ online }})</span>
                </button>
                <button class="filter-btn" onclick="filterMap('offline')" id="btn-offline">
                    <i class="fas fa-times-circle"></i>
                    <span>Offline ({{ offline }})</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Map Container -->
    <div class="card map-card">
        <div class="card-content no-padding">
            <div id="map" class="map-container"></div>
        </div>
    </div>

    <!-- Map Legend -->
    <div class="map-legend">
        <div class="legend-title">Legend</div>
        <div class="legend-items">
            <div class="legend-item">
                <div class="legend-marker online"></div>
                <span>Online Device</span>
            </div>
            <div class="legend-item">
                <div class="legend-marker offline"></div>
                <span>Offline Device</span>
            </div>
            <div class="legend-item">
                <div class="legend-marker cluster"></div>
                <span>Device Cluster</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/map.js') }}?v={{ range(1, 999999) | random }}"></script>
{% endblock %}