/* WARD OPS - Dark Theme */
[data-theme="dark"] {
    /* Dark Theme Color Palette */
    --ward-green: #5EBBA8;
    --ward-green-light: #72CFB8;
    --ward-green-dark: #4A9D8A;
    --ward-silver: #DFDFDF;
    --ward-dark: #2C3E50;
    --ward-darker: #1A252F;

    /* Dark Neutrals */
    --white: #1E1E1E;
    --off-white: #252525;
    --light-gray: #2C2C2C;
    --medium-gray: #9CA3AF;
    --dark-gray: #E5E7EB;
    --black: #F3F4F6;

    /* Semantic Colors - Adjusted for dark mode */
    --success: #10B981;
    --danger: #EF4444;
    --warning: #F59E0B;
    --info: #3B82F6;

    /* Background colors */
    --bg-primary: #1E1E1E;
    --bg-secondary: #252525;
    --bg-tertiary: #2C2C2C;

    /* Text colors */
    --text-primary: #F3F4F6;
    --text-secondary: #9CA3AF;
    --text-tertiary: #6B7280;

    /* Border colors */
    --border-light: #3A3A3A;
    --border-medium: #4A4A4A;
}

/* Dark background */
[data-theme="dark"] body {
    background: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   NAVIGATION - Dark Mode
   ============================================ */
[data-theme="dark"] .topnav {
    background: var(--bg-secondary) !important;
    border-bottom: 1px solid var(--border-light) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .logo-text {
    color: var(--ward-green) !important;
}

[data-theme="dark"] .nav-logo-img,
[data-theme="dark"] .logo img {
    filter: brightness(0) invert(1) !important;
}

[data-theme="dark"] .nav-item {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .nav-item:hover {
    color: var(--ward-green) !important;
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .nav-item.active {
    color: var(--ward-green) !important;
    background: var(--bg-tertiary) !important;
    border-bottom: 2px solid var(--ward-green) !important;
}

[data-theme="dark"] .user-info {
    background: var(--bg-tertiary);
    color: var(--text-primary) !important;
}

[data-theme="dark"] .user-info i {
    color: var(--ward-green);
}

[data-theme="dark"] .user-info span,
[data-theme="dark"] .topnav-right span {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .user-info small,
[data-theme="dark"] .topnav-right small {
    color: var(--text-secondary) !important;
}

/* ============================================
   DASHBOARD CARDS - Dark Mode
   ============================================ */
[data-theme="dark"] .region-card,
[data-theme="dark"] .device-type-card {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .region-card:hover,
[data-theme="dark"] .device-type-card:hover {
    background: var(--bg-tertiary) !important;
    border-color: var(--ward-green) !important;
}

[data-theme="dark"] .region-card h4,
[data-theme="dark"] .device-type-card h4 {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .kpi-card {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .card {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .card-header {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-light) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .card-header h2 {
    color: var(--text-primary) !important;
}

/* ============================================
   BUTTONS - Dark Mode
   ============================================ */
[data-theme="dark"] .btn-secondary {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .btn-secondary:hover {
    background: var(--bg-secondary) !important;
    border-color: var(--border-medium) !important;
}

/* ============================================
   CARDS - Dark Mode
   ============================================ */
[data-theme="dark"] .card {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="dark"] .card:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .card h2,
[data-theme="dark"] .card h3,
[data-theme="dark"] .card-title {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .card p,
[data-theme="dark"] .card td,
[data-theme="dark"] .card th,
[data-theme="dark"] .card-content {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .stat-card {
    background: var(--bg-secondary) !important;
    border-left: 4px solid var(--ward-green) !important;
}

[data-theme="dark"] .stat-label {
    color: var(--text-secondary) !important;
}

/* ============================================
   SIDEBAR - Dark Mode
   ============================================ */
[data-theme="dark"] .sidebar {
    background: var(--bg-secondary) !important;
    border-right: 1px solid var(--border-light) !important;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .sidebar-header {
    background: var(--ward-green) !important;
    color: white !important;
}

[data-theme="dark"] .region-item,
[data-theme="dark"] .branch-item {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .region-item:hover,
[data-theme="dark"] .branch-item:hover {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .region-item.active,
[data-theme="dark"] .branch-item.active {
    background: rgba(94, 187, 168, 0.15) !important;
    color: var(--ward-green-light) !important;
}

/* ============================================
   FORMS & INPUTS - Dark Mode
   ============================================ */
[data-theme="dark"] .search-box,
[data-theme="dark"] .filter-dropdown,
[data-theme="dark"] input[type="text"],
[data-theme="dark"] input[type="email"],
[data-theme="dark"] input[type="password"],
[data-theme="dark"] select,
[data-theme="dark"] textarea {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .search-box::placeholder,
[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
    color: var(--text-tertiary) !important;
}

[data-theme="dark"] .search-box:focus,
[data-theme="dark"] .filter-dropdown:focus,
[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
    border-color: var(--ward-green) !important;
    box-shadow: 0 0 0 3px rgba(94, 187, 168, 0.2) !important;
}

/* ============================================
   VIEW BUTTONS - Dark Mode
   ============================================ */
[data-theme="dark"] .view-btn {
    background: var(--bg-tertiary) !important;
    color: var(--text-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .view-btn:hover {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .view-btn.active {
    background: var(--ward-green) !important;
    color: white !important;
}

/* ============================================
   DEVICE CARDS - Dark Mode
   ============================================ */
[data-theme="dark"] .device-compact-card {
    background: var(--bg-secondary) !important;
    border: 2px solid var(--border-light) !important;
}

[data-theme="dark"] .device-compact-card:hover {
    border-color: var(--ward-green) !important;
    box-shadow: 0 4px 12px rgba(94, 187, 168, 0.25) !important;
}

[data-theme="dark"] .compact-name {
    color: var(--text-primary) !important;
}

/* ============================================
   TABLE STYLING - Dark Mode
   ============================================ */
[data-theme="dark"] .data-table {
    background: var(--bg-secondary);
}

[data-theme="dark"] .data-table thead {
    background: var(--bg-tertiary);
    border-bottom: 2px solid var(--border-light);
}

[data-theme="dark"] .data-table th {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .data-table td {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .data-table tr {
    border-bottom: 1px solid var(--border-light);
}

[data-theme="dark"] .data-table tr:hover {
    background: var(--bg-tertiary) !important;
}

/* ============================================
   PAGE HEADERS - Dark Mode
   ============================================ */
[data-theme="dark"] .page-header h1,
[data-theme="dark"] .page-title h1 {
    color: var(--text-primary) !important;
}

/* ============================================
   MODALS - Dark Mode
   ============================================ */
[data-theme="dark"] .modal {
    background: rgba(0, 0, 0, 0.8) !important;
}

[data-theme="dark"] .modal-dialog {
    background: var(--bg-secondary) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
}

[data-theme="dark"] .modal-header {
    background: var(--bg-tertiary) !important;
    border-bottom: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .modal-header h2 {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .modal-body {
    background: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .modal-close {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .modal-close:hover {
    color: var(--text-primary) !important;
    background: var(--bg-tertiary) !important;
}

/* ============================================
   SCROLLBAR - Dark Mode
   ============================================ */
[data-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--bg-primary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--border-medium);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: var(--ward-green);
}

/* ============================================
   FOOTER - Dark Mode
   ============================================ */
[data-theme="dark"] .footer {
    background: linear-gradient(135deg, #0F1419 0%, #000000 100%);
}

[data-theme="dark"] .footer-bottom {
    background: rgba(0, 0, 0, 0.5);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* ============================================
   CHART/GRAPH ADJUSTMENTS - Dark Mode
   ============================================ */
[data-theme="dark"] .chart-container,
[data-theme="dark"] #map {
    background: var(--bg-secondary) !important;
}

/* ============================================
   ALERTS - Dark Mode
   ============================================ */
[data-theme="dark"] .alert {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
    color: var(--text-primary) !important;
}

[data-theme="dark"] .alert.alert-success {
    background: rgba(16, 185, 129, 0.15) !important;
    border-color: var(--success) !important;
}

[data-theme="dark"] .alert.alert-danger {
    background: rgba(239, 68, 68, 0.15) !important;
    border-color: var(--danger) !important;
}

[data-theme="dark"] .alert.alert-warning {
    background: rgba(245, 158, 11, 0.15) !important;
    border-color: var(--warning) !important;
}

/* ============================================
   LOADING STATES - Dark Mode
   ============================================ */
[data-theme="dark"] .loading-state {
    color: var(--text-secondary) !important;
}

[data-theme="dark"] .spinner {
    border-color: var(--border-light) !important;
    border-top-color: var(--ward-green) !important;
}

/* ============================================
   SSH TERMINAL - Dark Mode (Already dark by default)
   ============================================ */
[data-theme="dark"] #ssh-terminal {
    background: #0D1117 !important;
}

/* ============================================
   FORM GROUPS & LABELS - Dark Mode
   ============================================ */
[data-theme="dark"] .form-group label {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .form-group small {
    color: var(--text-secondary) !important;
}

/* ============================================
   DROPDOWN MENUS - Dark Mode
   ============================================ */
[data-theme="dark"] .dropdown-menu {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .dropdown-item {
    color: var(--text-primary) !important;
}

[data-theme="dark"] .dropdown-item:hover {
    background: var(--bg-tertiary) !important;
    color: var(--ward-green) !important;
}

/* ============================================
   BADGES - Dark Mode
   ============================================ */
[data-theme="dark"] .badge {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   CODE BLOCKS - Dark Mode
   ============================================ */
[data-theme="dark"] code,
[data-theme="dark"] pre {
    background: var(--bg-tertiary) !important;
    color: var(--ward-green-light) !important;
    border: 1px solid var(--border-light) !important;
}

/* ============================================
   TOOLTIPS - Dark Mode
   ============================================ */
[data-theme="dark"] .tooltip {
    background: var(--bg-tertiary) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-light) !important;
}

/* ============================================
   USER INFO SECTION - Dark Mode
   ============================================ */
[data-theme="dark"] .user-info {
    background: var(--bg-tertiary) !important;
}

/* ============================================
   THEME TOGGLE BUTTON STYLING
   ============================================ */
[data-theme="dark"] #theme-toggle {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-light) !important;
}

[data-theme="dark"] #theme-toggle:hover {
    background: var(--ward-green) !important;
    border-color: var(--ward-green) !important;
    color: white !important;
}

[data-theme="dark"] #theme-toggle i {
    color: var(--ward-green);
}

[data-theme="dark"] #theme-toggle:hover i {
    color: white !important;
}

/* ============================================
   IMPROVED TEXT COLORS FOR DARK MODE
   ============================================ */
/* Page titles and headings */
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
    color: #F3F4F6 !important;
}

/* Paragraphs and general text */
[data-theme="dark"] p,
[data-theme="dark"] span,
[data-theme="dark"] div,
[data-theme="dark"] label {
    color: #E5E7EB !important;
}

/* Small text and descriptions */
[data-theme="dark"] small {
    color: #9CA3AF !important;
}

/* Links */
[data-theme="dark"] a {
    color: #72CFB8 !important;
}

[data-theme="dark"] a:hover {
    color: #5EBBA8 !important;
}

/* Stats and metrics */
[data-theme="dark"] .stat-value,
[data-theme="dark"] .metric-value {
    color: #F3F4F6 !important;
}

/* City/Region names in config */
[data-theme="dark"] .city-card h3,
[data-theme="dark"] .city-name {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .city-card p,
[data-theme="dark"] .city-coordinates {
    color: #D1D5DB !important;
}

/* Legend text */
[data-theme="dark"] .legend,
[data-theme="dark"] .legend-item {
    color: #E5E7EB !important;
}

/* Topology stats */
[data-theme="dark"] .topology-stats,
[data-theme="dark"] .network-stats {
    color: #E5E7EB !important;
}

/* Select options */
[data-theme="dark"] select option {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
}

/* Device info text */
[data-theme="dark"] .device-info,
[data-theme="dark"] .device-details {
    color: #D1D5DB !important;
}

/* Form labels */
[data-theme="dark"] .form-label,
[data-theme="dark"] .form-group label {
    color: #E5E7EB !important;
    font-weight: 600;
}

/* Inline user info in navbar */
[data-theme="dark"] #user-name {
    color: #F3F4F6 !important;
}

[data-theme="dark"] #user-role {
    color: #9CA3AF !important;
}

/* Fix for inline styled user info div in topnav */
[data-theme="dark"] .topnav-right > div[style*="background: #F8F9FA"],
[data-theme="dark"] .topnav-right > div[style*="background:#F8F9FA"] {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .topnav-right > div div[style*="color: #000"],
[data-theme="dark"] .topnav-right > div div[style*="color:#000"] {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .topnav-right > div div[style*="color: #6c757d"],
[data-theme="dark"] .topnav-right > div div[style*="color:#6c757d"] {
    color: #9CA3AF !important;
}

/* Settings icon and other navbar buttons - Fix visibility */
[data-theme="dark"] .topnav-right button,
[data-theme="dark"] .topnav-right a {
    color: #E5E7EB !important;
}

[data-theme="dark"] .topnav-right button i,
[data-theme="dark"] .topnav-right a i {
    color: #9CA3AF !important;
}

[data-theme="dark"] .topnav-right button:hover i,
[data-theme="dark"] .topnav-right a:hover i {
    color: var(--ward-green) !important;
}

/* Notification bell specific styling */
[data-theme="dark"] #notification-toggle i {
    color: #9CA3AF !important;
}

[data-theme="dark"] #notification-toggle:hover i {
    color: var(--ward-green) !important;
}

/* ============================================
   USERS PAGE - Dark Mode Improvements
   ============================================ */
[data-theme="dark"] .users-page {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .users-container,
[data-theme="dark"] .user-table-container,
[data-theme="dark"] .users-table-container {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .user-table,
[data-theme="dark"] .users-table {
    background: var(--bg-secondary) !important;
    color: #E5E7EB !important;
}

[data-theme="dark"] .user-table thead,
[data-theme="dark"] .users-table thead {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .user-table th,
[data-theme="dark"] .users-table th {
    background: var(--bg-tertiary) !important;
    color: #F3F4F6 !important;
    border-bottom: 2px solid var(--border-light) !important;
}

[data-theme="dark"] .user-table td,
[data-theme="dark"] .users-table td {
    color: #E5E7EB !important;
    border-bottom: 1px solid var(--border-light) !important;
    border-top: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .user-table tbody tr,
[data-theme="dark"] .users-table tbody tr {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .user-table tbody tr:hover,
[data-theme="dark"] .users-table tbody tr:hover {
    background: var(--bg-tertiary) !important;
}

/* User role badges */
[data-theme="dark"] .role-badge {
    border: 1px solid var(--border-medium) !important;
}

[data-theme="dark"] .role-badge.role-admin {
    background: #ffc107 !important;
    color: #000 !important;
}

[data-theme="dark"] .role-badge.role-regional_manager {
    background: #17a2b8 !important;
    color: #fff !important;
}

[data-theme="dark"] .role-badge.role-technician {
    background: #28a745 !important;
    color: #fff !important;
}

[data-theme="dark"] .role-badge.role-viewer {
    background: #6c757d !important;
    color: #fff !important;
}

/* User status indicators */
[data-theme="dark"] .status-active {
    background: rgba(16, 185, 129, 0.2) !important;
    color: #10B981 !important;
}

[data-theme="dark"] .status-inactive {
    background: rgba(239, 68, 68, 0.2) !important;
    color: #EF4444 !important;
}

/* Empty state */
[data-theme="dark"] .empty-state {
    color: #9CA3AF !important;
}

[data-theme="dark"] .empty-state i {
    color: #6B7280 !important;
}

/* Add user button */
[data-theme="dark"] .btn-add-user {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}

[data-theme="dark"] .btn-add-user:hover {
    box-shadow: 0 6px 20px rgba(102,126,234,0.4) !important;
}

/* ============================================
   CONFIG PAGE - Dark Mode Improvements
   ============================================ */
[data-theme="dark"] .config-container,
[data-theme="dark"] .config-section {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .config-section h2,
[data-theme="dark"] .config-section h3 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .config-description,
[data-theme="dark"] .config-help-text {
    color: #9CA3AF !important;
}

/* City cards in config */
[data-theme="dark"] .city-card {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .city-card:hover {
    border-color: var(--ward-green) !important;
    background: #2C2C2C !important;
}

[data-theme="dark"] .city-card h4,
[data-theme="dark"] .city-name {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .city-card p,
[data-theme="dark"] .city-region,
[data-theme="dark"] .city-coordinates {
    color: #D1D5DB !important;
}

/* Config grid layout */
[data-theme="dark"] .city-grid {
    background: var(--bg-primary) !important;
}

/* Host group configuration */
[data-theme="dark"] .host-group-item {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
    color: #E5E7EB !important;
}

[data-theme="dark"] .host-group-item:hover {
    border-color: var(--ward-green) !important;
}

/* ============================================
   MAP PAGE - Dark Mode Improvements
   ============================================ */
[data-theme="dark"] .map-container {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] #map {
    background: var(--bg-secondary) !important;
    filter: brightness(0.9) contrast(1.1);
}

/* Map controls */
[data-theme="dark"] .leaflet-control-layers,
[data-theme="dark"] .leaflet-control-zoom,
[data-theme="dark"] .leaflet-bar {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .leaflet-control-layers-toggle,
[data-theme="dark"] .leaflet-control-zoom-in,
[data-theme="dark"] .leaflet-control-zoom-out {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border-color: var(--border-light) !important;
}

[data-theme="dark"] .leaflet-popup-content-wrapper {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
}

[data-theme="dark"] .leaflet-popup-tip {
    background: var(--bg-tertiary) !important;
}

/* Map legend */
[data-theme="dark"] .legend {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
    color: #E5E7EB !important;
}

[data-theme="dark"] .legend h4 {
    color: #F3F4F6 !important;
}

/* Map page title and stats */
[data-theme="dark"] .map-header,
[data-theme="dark"] .map-stats {
    color: #E5E7EB !important;
}

/* Jump to region dropdown on map */
[data-theme="dark"] .map-region-selector,
[data-theme="dark"] select[name="region"] {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

/* ============================================
   SEARCH BOX - Remove Autocomplete Styling
   ============================================ */
/* Disable browser autocomplete dropdown */
[data-theme="dark"] input[type="text"]:-webkit-autofill,
[data-theme="dark"] input[type="search"]:-webkit-autofill {
    -webkit-box-shadow: 0 0 0 1000px var(--bg-tertiary) inset !important;
    -webkit-text-fill-color: #E5E7EB !important;
    caret-color: #E5E7EB !important;
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus {
    -webkit-box-shadow: 0 0 0 1000px #252525 inset !important;
    -webkit-text-fill-color: #E5E7EB !important;
}

/* ============================================
   SEARCH RESULTS & FILTERS
   ============================================ */
[data-theme="dark"] .search-wrapper {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .search-box {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .search-box::placeholder {
    color: #6B7280 !important;
}

[data-theme="dark"] .search-icon {
    color: #9CA3AF !important;
}

[data-theme="dark"] .filter-dropdown {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

/* ============================================
   VIEW TOGGLES (Table/Cards)
   ============================================ */
[data-theme="dark"] .view-toggle {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .view-btn {
    background: var(--bg-tertiary) !important;
    color: #9CA3AF !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .view-btn.active {
    background: var(--ward-green) !important;
    color: white !important;
}

/* ============================================
   COMPREHENSIVE PAGE BACKGROUNDS
   ============================================ */
[data-theme="dark"] .main-content,
[data-theme="dark"] .content-wrapper,
[data-theme="dark"] .page-container,
[data-theme="dark"] .devices-page {
    background: var(--bg-primary) !important;
}

/* All page titles */
[data-theme="dark"] .page-title,
[data-theme="dark"] .section-title {
    color: #F3F4F6 !important;
}

/* All page descriptions */
[data-theme="dark"] .page-description,
[data-theme="dark"] .section-description {
    color: #9CA3AF !important;
}

/* ============================================
   TOPOLOGY PAGE - Enhanced Dark Mode
   ============================================ */
[data-theme="dark"] .topology-container {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .topology-controls {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .topology-stats-panel {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .topology-stats-panel h3 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .topology-stats-panel p,
[data-theme="dark"] .topology-stats-panel span {
    color: #E5E7EB !important;
}

/* Network graph canvas */
[data-theme="dark"] #network-graph,
[data-theme="dark"] canvas {
    background: var(--bg-secondary) !important;
}

/* ============================================
   DEVICES PAGE - Enhanced Dark Mode
   ============================================ */
[data-theme="dark"] .page-header {
    background: transparent !important;
}

[data-theme="dark"] .page-actions {
    background: transparent !important;
}

[data-theme="dark"] .view-switch {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
    border-radius: 8px;
    padding: 4px;
}

[data-theme="dark"] .btn-add {
    background: linear-gradient(135deg, var(--ward-green) 0%, var(--ward-green-dark) 100%) !important;
    color: white !important;
}

[data-theme="dark"] .btn-add:hover {
    box-shadow: 0 4px 12px rgba(94, 187, 168, 0.4) !important;
}

/* Table wrapper */
[data-theme="dark"] .table-wrapper {
    background: var(--bg-secondary) !important;
}

/* Loading cell */
[data-theme="dark"] .loading-cell {
    background: var(--bg-secondary) !important;
    color: #9CA3AF !important;
}

/* ============================================
   HONEYCOMB VIEW - Dark Mode
   ============================================ */
[data-theme="dark"] .honeycomb-grid {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .honeycomb-item {
    background: var(--bg-secondary) !important;
    border: 2px solid var(--border-light) !important;
}

[data-theme="dark"] .honeycomb-item:hover {
    border-color: var(--ward-green) !important;
    box-shadow: 0 4px 12px rgba(94, 187, 168, 0.3) !important;
}

[data-theme="dark"] .honeycomb-item h3 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .honeycomb-item p {
    color: #9CA3AF !important;
}

/* ============================================
   ADVANCED FILTERS - Dark Mode
   ============================================ */
[data-theme="dark"] .advanced-search-panel {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .filter-group {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .filter-group label {
    color: #E5E7EB !important;
}

/* ============================================
   MODAL FOOTER - Dark Mode
   ============================================ */
[data-theme="dark"] .modal-footer {
    background: var(--bg-tertiary) !important;
    border-top: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .btn-cancel {
    background: var(--bg-secondary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .btn-cancel:hover {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .btn-save {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: white !important;
}

/* ============================================
   BRANCH SELECTOR - Dark Mode
   ============================================ */
[data-theme="dark"] .branch-selector {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .branch-checkbox {
    color: #E5E7EB !important;
}

[data-theme="dark"] .branch-checkbox label {
    color: #E5E7EB !important;
}

/* ============================================
   PAGINATION - Dark Mode
   ============================================ */
[data-theme="dark"] .pagination {
    background: var(--bg-secondary) !important;
}

[data-theme="dark"] .pagination button {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .pagination button:hover {
    background: var(--ward-green) !important;
    color: white !important;
}

[data-theme="dark"] .pagination button.active {
    background: var(--ward-green) !important;
    color: white !important;
}

/* ============================================
   STATS CARDS - Enhanced Dark Mode
   ============================================ */
[data-theme="dark"] .stat-value {
    color: #F3F4F6 !important;
    font-weight: 700;
}

[data-theme="dark"] .stat-icon {
    color: var(--ward-green) !important;
}

/* ============================================
   IMPROVED CONTRAST FOR TEXT
   ============================================ */
[data-theme="dark"] strong {
    color: #F9FAFB !important;
}

[data-theme="dark"] .text-muted {
    color: #9CA3AF !important;
}

/* ============================================
   MAP PAGE - Enhanced Dark Mode
   ============================================ */
[data-theme="dark"] .map-page {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .map-card {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .map-container {
    background: var(--bg-secondary) !important;
}

/* Map Legend */
[data-theme="dark"] .map-legend {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .legend-title {
    color: #F3F4F6 !important;
    border-bottom: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .legend-item span {
    color: #E5E7EB !important;
}

/* Map Popup */
[data-theme="dark"] .map-popup {
    background: var(--bg-secondary) !important;
    color: #E5E7EB !important;
}

[data-theme="dark"] .map-popup header h4 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .map-popup .region {
    color: #9CA3AF !important;
}

[data-theme="dark"] .map-popup .stats {
    background: var(--bg-tertiary) !important;
}

[data-theme="dark"] .map-popup .label {
    color: #9CA3AF !important;
}

[data-theme="dark"] .map-popup .value {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .map-popup .value.online {
    color: var(--ward-green) !important;
}

[data-theme="dark"] .map-popup .value.offline {
    color: #E85D75 !important;
}

[data-theme="dark"] .map-popup .device-name {
    color: #E5E7EB !important;
}

[data-theme="dark"] .map-popup .device-ip {
    color: #9CA3AF !important;
}

[data-theme="dark"] .map-popup-action {
    background: linear-gradient(135deg, var(--ward-green), var(--ward-green-dark)) !important;
    color: white !important;
}

/* Map Controls */
[data-theme="dark"] .map-region-control {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .map-region-control label {
    color: #E5E7EB !important;
}

[data-theme="dark"] .map-region-control select {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .map-reset-control button {
    background: var(--bg-secondary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .map-reset-control button:hover {
    background: var(--ward-green) !important;
    color: white !important;
}

/* Filter Buttons */
[data-theme="dark"] .filter-btn {
    background: var(--bg-secondary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .filter-btn:hover {
    background: var(--bg-tertiary) !important;
    border-color: var(--ward-green) !important;
}

[data-theme="dark"] .filter-btn.active {
    background: var(--ward-green) !important;
    color: white !important;
    border-color: var(--ward-green) !important;
}

/* ============================================
   DEVICE MODAL - WARD Theme Colors
   ============================================ */
/* Online Banner - WARD Green */
.banner-online {
    background: linear-gradient(135deg, rgba(94, 187, 168, 0.15), rgba(74, 157, 138, 0.1)) !important;
    border-left: 4px solid var(--ward-green) !important;
}

.banner-online .banner-icon {
    color: var(--ward-green) !important;
    background: rgba(94, 187, 168, 0.2) !important;
}

/* Offline Banner - WARD Red */
.banner-offline {
    background: linear-gradient(135deg, rgba(232, 93, 117, 0.15), rgba(209, 67, 97, 0.1)) !important;
    border-left: 4px solid #E85D75 !important;
}

.banner-offline .banner-icon {
    color: #E85D75 !important;
    background: rgba(232, 93, 117, 0.2) !important;
}

/* SSH Action Button - WARD Green */
.action-ssh {
    background: linear-gradient(135deg, var(--ward-green), var(--ward-green-dark)) !important;
    color: white !important;
    border: none !important;
}

.action-ssh:hover {
    box-shadow: 0 4px 12px rgba(94, 187, 168, 0.4) !important;
    transform: translateY(-2px);
}

.action-ssh i {
    color: white !important;
}

/* Detail Icons - WARD Green */
[data-theme="dark"] .detail-icon {
    color: var(--ward-green) !important;
    background: rgba(94, 187, 168, 0.1) !important;
}

[data-theme="dark"] .detail-icon i {
    color: var(--ward-green) !important;
}

/* Action Buttons Dark Mode */
[data-theme="dark"] .action-btn {
    background: var(--bg-tertiary) !important;
    color: #E5E7EB !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .action-btn:hover {
    background: var(--bg-secondary) !important;
    border-color: var(--ward-green) !important;
}

/* Banner Content */
[data-theme="dark"] .banner-title {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .banner-subtitle {
    color: #9CA3AF !important;
}

[data-theme="dark"] .banner-downtime {
    color: #E5E7EB !important;
    background: rgba(0, 0, 0, 0.2) !important;
}

/* Detail Cards */
[data-theme="dark"] .detail-card {
    background: var(--bg-tertiary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .detail-label {
    color: #9CA3AF !important;
}

[data-theme="dark"] .detail-value {
    color: #F3F4F6 !important;
}

/* Timeline */
[data-theme="dark"] .timeline-section {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .timeline-header h3 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .timeline-stats {
    color: #9CA3AF !important;
}

[data-theme="dark"] .timeline-incident.down .incident-marker {
    background: #E85D75 !important;
}

[data-theme="dark"] .timeline-incident.up .incident-marker {
    background: var(--ward-green) !important;
}

[data-theme="dark"] .incident-type {
    color: #E5E7EB !important;
}

[data-theme="dark"] .incident-time {
    color: #9CA3AF !important;
}

/* Problems Section */
[data-theme="dark"] .problems-section {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .problems-header h3 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .problem-description {
    color: #E5E7EB !important;
}

[data-theme="dark"] .problem-meta {
    color: #9CA3AF !important;
}

/* Severity Badges - WARD Colors */
[data-theme="dark"] .severity-badge {
    font-weight: 600;
}

.severity-HIGH,
.severity-badge.severity-HIGH {
    background: linear-gradient(135deg, #E85D75, #D14361) !important;
    color: white !important;
}

.severity-WARNING,
.severity-badge.severity-WARNING {
    background: linear-gradient(135deg, #f59e0b, #d97706) !important;
    color: white !important;
}

.severity-INFORMATION,
.severity-badge.severity-INFORMATION {
    background: linear-gradient(135deg, #667eea, #764ba2) !important;
    color: white !important;
}

.severity-AVERAGE,
.severity-badge.severity-AVERAGE {
    background: linear-gradient(135deg, #f59e0b, #d97706) !important;
    color: white !important;
}

/* ============================================
   CONFIG PAGE - Dark Mode Text Visibility
   ============================================ */
[data-theme="dark"] .config-container h1 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .config-section {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .config-section h2 {
    color: #F3F4F6 !important;
    border-bottom-color: var(--ward-green) !important;
}

[data-theme="dark"] .config-section p,
[data-theme="dark"] .config-section label,
[data-theme="dark"] .config-section span {
    color: #E5E7EB !important;
}

[data-theme="dark"] .hostgroups-grid {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .hostgroup-item {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-light) !important;
}

[data-theme="dark"] .hostgroup-item.selected {
    background: rgba(94, 187, 168, 0.1) !important;
    border-color: var(--ward-green) !important;
}

[data-theme="dark"] .hostgroup-item label {
    color: #E5E7EB !important;
}

[data-theme="dark"] .hostgroup-item input[type="text"] {
    background: var(--bg-secondary) !important;
    color: #E5E7EB !important;
    border-color: var(--border-light) !important;
}

[data-theme="dark"] .city-grid {
    background: var(--bg-primary) !important;
}

[data-theme="dark"] .city-item {
    background: var(--bg-tertiary) !important;
    border-color: var(--border-light) !important;
    color: #E5E7EB !important;
}

[data-theme="dark"] .city-item h4 {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .city-item small {
    color: #9CA3AF !important;
}

/* ============================================
   REPORTS PAGE - Dark Mode
   ============================================ */
[data-theme="dark"] .report-card {
    background: var(--bg-secondary) !important;
    border: 1px solid var(--border-light) !important;
}

[data-theme="dark"] .report-card:hover {
    border-color: var(--ward-green) !important;
}

[data-theme="dark"] .report-title {
    color: #F3F4F6 !important;
}

[data-theme="dark"] .report-description {
    color: #9CA3AF !important;
}
